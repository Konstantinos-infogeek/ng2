#!/usr/bin/env node

var cli = require('commander');
var path = require('path');
var pkg = require('../package.json');
var version = pkg.version;
var colors = require('colors');
var utils = require('../lib/utils');
var readdir = require('fs').readdirSync;
var info = utils.info;
var log = utils.log;
var error = utils.error;
var root = process.cwd();
var bootstrapper = require('../lib/bootstrapper');

// get plugins
var bins = readdir(__dirname).filter(function (bin) {
  return /^ng2-/.test(bin);
});

info('Found plugins:');
info();
bins = bins.map(function (bin) {
  info('        *',bin);
  return bin.replace('ng2-','');
});
info();

info('ng2 invoked with parameters:');
info();
args.forEach(function (param) {
  info('        *', param);
});
info();

if(!args.length) {
  log('Starting new app at', root);
  bootstrapper.start(root);
} else {
  if(bins.indexOf(args[0])!==-1) {
    info("Invoking",args[0]);

  } else {
    log("here's some help");
  }
}
